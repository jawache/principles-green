<!DOCTYPE html>
<html lang="en" class="no-js"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="icon" href="/assets/images/favicon.png?v=1a8432e32b5eb871f8fc9345a489847d" type="image/png"><title>Code exÃ©cutÃ© au sein dâ€™une file dâ€™attente Web â€¢ Principles of Green Software Engineering</title><link rel="canonical" href="https://principles.green/fr-fr/principles/applied/web-queue-worker/"><meta property="og:site_name" content="ğŸŒ± Principles.Green"><meta property="og:title" content="Code exÃ©cutÃ© au sein dâ€™une file dâ€™attente Web â€¢ Principles of Green Software Engineering"><meta property="og:type" content="website"><meta property="og:url" content="https://principles.green/fr-fr/principles/applied/web-queue-worker/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@jawache"><meta name="description" content="Recommandations issues des principes du gÃ©nie logiciel durable appliquÃ©s Ã  une architecture Web Queue Worker"><meta name="twitter:description" content="Recommandations issues des principes du gÃ©nie logiciel durable appliquÃ©s Ã  une architecture Web Queue Worker"><meta property="og:description" content="Recommandations issues des principes du gÃ©nie logiciel durable appliquÃ©s Ã  une architecture Web Queue Worker"><meta property="og:image" content="https://principles.green/assets/images/social-card.png"><meta name="twitter:image" content="https://principles.green/assets/images/social-card.png"><meta property="og:image:alt" content="Page image for ğŸŒ± Principles.Green"><meta name="twitter:image:alt" content="Page image for ğŸŒ± Principles.Green"><script>document
        .documentElement
        .classList
        .remove('no-js');</script><link rel="stylesheet" type="text/css" href="/assets/css/global.css?v=1e237cfc179e4afc5fafa614b9ccfd51"><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-161608018-1"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-161608018-1');</script></head><body><a class="skip-link" href="#main-content">Skip to content</a><header role="banner" class="[ site-head ] [ pad-top-700 pad-bottom-700"><div class="wrapper"><span class="visually-hidden">ğŸŒ± Principles.Green: Post</span><div class="[ site-head__inner ] [ md:box-flex space-between align-center ]"><a href="/" class="[ site-head__site-name ] [ leading-tight ]"><span class="visually-hidden">Back to homepage</span> <span class="[ site-head__site-name ] [ text-600 ]" aria-hidden="true">ğŸŒ± Principles.Green</span></a><nav class="nav" aria-label="navigation"><ul class="[ nav__list ] [ box-flex align-center md:space-before ]"><li class="nav__item"><a href="/">Home</a></li><li class="nav__item"><a href="/pages/related/">Related</a></li><li class="nav__item"><a href="https://go.principles.green/pledge">Endorse the principles</a></li><li class="nav__item"><a href="https://github.com/jawache/principles-green">GitHub</a></li><li class="nav__item"><a href="/">EN</a></li></ul></nav></div></div></header><main id="main-content" tabindex="-1"><article class="[ post ] [ h-entry ]"><header class="[ intro ] [ pad-top-900 pad-bottom-max ]"><div class="[ inner-wrapper ] [ sf-flow ]"><h1 class="[ intro__heading ] [ text-800 md:text-900 leading-tight ] [ p-name ]">Code exÃ©cutÃ© au sein dâ€™une file dâ€™attente Web</h1><div class="[ intro__summary ] [ sf-flow ] [ leading-mid measure-short ]">Recommandations issues des principes du gÃ©nie logiciel durable appliquÃ©s Ã  une architecture Web Queue Worker</div></div></header><div class="[ post__body ] [ inner-wrapper ] [ leading-loose pad-top-900 pad-bottom-900 text-500 ] [ sf-flow ] [ e-content ]"><p><a href="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/web-queue-worker">Code exÃ©cutÃ© au sein dâ€™une file dâ€™attente Web</a> Lâ€™architecture dâ€™une file dâ€™attente Web dÃ©finit une partie Web qui gÃ¨re les requÃªtes HTTP et une partie de travail qui gÃ¨re les opÃ©rations gourmandes en temps ou en traitement. Une file dâ€™attente est utilisÃ©e pour la communication asynchrone entre le Web et le flux de travail.</p><p>En appliquant les principes de lâ€™ingÃ©nierie logicielle durable, voici des exemples de changements que vous pouvez apporter Ã  votre architecture de file dâ€™attente Web afin de lâ€™optimiser pour la durabilitÃ©.</p><h2 id="heading-optimisez-votre-trafic-reseau">Optimisez votre trafic rÃ©seau<a href="#heading-optimisez-votre-trafic-reseau" class="heading-permalink"><span class="visually-hidden"> permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>RÃ©duisez la quantitÃ© de trafic que votre architecture crÃ©e pour chacune des opÃ©rations ainsi que la distance parcourue par chaque demande et rÃ©ponse.</p><ul><li>Pensez Ã  utiliser des en-tÃªtes de mise en cache, qui permettent aux caches de navigateur et aux caches proxy dâ€™avoir suffisamment dâ€™informations pour mettre en cache les assets web statiques en toute confiance. La mise en cache des assets statiques au niveau du navigateur ou du proxy permet aux futures demandes de ces assets dâ€™Ãªtre traitÃ©es par ces caches et de rÃ©duire ainsi le trafic rÃ©seau vers votre application.</li><li>Envisagez dâ€™utiliser un CDN pour distribuer les ressources statiques de votre application au plus prÃ¨s de la source dâ€™une demande. Cette rÃ©partition des assets web rÃ©duit la distance que toutes les demandes dâ€™assets statiques doivent parcourir sur le rÃ©seau.</li><li>Dans la mesure du possible, rÃ©duisez la taille et optimisez vos web bundles et vos assets web statiques.<ul><li>Pensez Ã  utiliser la compression et la dÃ©compression pour les donnÃ©es que vous transmettez sur le rÃ©seau. La compression et la dÃ©compression nÃ©cessitent gÃ©nÃ©ralement moins dâ€™Ã©nergie globale que la transmission de donnÃ©es non compressÃ©es sur le rÃ©seau.</li></ul></li></ul><h2 id="heading-augmentez-votre-utilisation-des-calculs">Augmentez votre utilisation des calculs<a href="#heading-augmentez-votre-utilisation-des-calculs" class="heading-permalink"><span class="visually-hidden"> permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>Mettez Ã  jour la distribution de votre application et des ressources de calcul afin dâ€™utiliser moins de ressources mais avec un taux dâ€™utilisation plus Ã©levÃ©. Cela rÃ©duit la quantitÃ© dâ€™Ã©nergie dÃ©pensÃ©e par vos ressources de calcul dans un Ã©tat inactif ou qui gaspillent de lâ€™Ã©nergie sans effectuer de travail.</p><ul><li>Si vous utilisez des machines virtuelles pour les ressources de calcul et quâ€™elles sont peu utilisÃ©es, envisagez de rÃ©duire la taille de ces machines virtuelles pour augmenter leur utilisation. Les machines virtuelles plus petites avec une utilisation plus Ã©levÃ©e consomment gÃ©nÃ©ralement moins dâ€™Ã©nergie que les machines virtuelles plus grandes avec une utilisation infÃ©rieure pour la mÃªme application.</li><li>Ã‰valuez la migration de votre application vers un PaaS lorsque cela est possible. En rÃ¨gle gÃ©nÃ©rale, les solutions PaaS sont dimensionnÃ©es de maniÃ¨re plus appropriÃ©e pour leur application et peuvent exÃ©cuter ces applications avec une utilisation Ã©levÃ©e de leurs ressources de calcul sous-jacentes.</li><li>Envisagez dâ€™utiliser des capacitÃ©s de mise Ã  lâ€™Ã©chelle automatique ou de burst pour vos ressources de calcul plutÃ´t que dâ€™allouer statiquement des ressources de calcul avec une capacitÃ© maximale Ã  tout moment. Ces fonctionnalitÃ©s vous permettent dâ€™augmenter et de rÃ©duire vos ressources de calcul en fonction de la demande tout en maintenant une utilisation Ã©levÃ©e de ces ressources de calcul.</li></ul><h2 id="heading-optimisez-votre-base-de-donnees">Optimisez votre base de donnÃ©es<a href="#heading-optimisez-votre-base-de-donnees" class="heading-permalink"><span class="visually-hidden"> permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>Lâ€™optimisation de la base de donnÃ©es que vous utilisez ainsi que de la maniÃ¨re dont les donnÃ©es sont stockÃ©es peut rÃ©duire lâ€™Ã©nergie utilisÃ©e pour exÃ©cuter la base de donnÃ©es ainsi que le temps dâ€™inactivitÃ© en attente de la fin des requÃªtes.</p><ul><li>Assurez-vous dâ€™utiliser la meilleure base de donnÃ©es pour interagir avec votre ensemble de donnÃ©es. Par exemple, si vous exÃ©cutez de nombreuses requÃªtes relationnelles sur votre ensemble de donnÃ©es, une base de donnÃ©es relationnelle est mieux adaptÃ©e et probablement plus efficace Ã  utiliser quâ€™une base de donnÃ©es NoSQL.</li><li>Si aucune base de donnÃ©es nâ€™est conÃ§ue pour gÃ©rer toutes les faÃ§ons dont vous interagissez avec votre ensemble de donnÃ©es, envisagez de conserver des copies redondantes de vos donnÃ©es dans diffÃ©rentes bases de donnÃ©es et dâ€™utiliser chaque base de donnÃ©es pour le sous-ensemble dâ€™interactions le mieux adaptÃ© Ã  cette base de donnÃ©es.</li><li>Pensez Ã  utiliser index si votre base de donnÃ©es le propose.</li><li>Envisagez dâ€™Ã©valuer et dâ€™optimiser vos requÃªtes.</li><li>Pensez Ã  utiliser un cache de base de donnÃ©es. Dans certains cas, la mise en cache peut rÃ©duire les requÃªtes redondantes vers la base de donnÃ©es et diminuer la consommation dâ€™Ã©nergie de la base de donnÃ©es, en particulier pour les requÃªtes complexes ou gourmandes en calculs.</li></ul><h2 id="heading-comprenez-vos-limites-en-termes-de-latence">Comprenez vos limites en termes de latence<a href="#heading-comprenez-vos-limites-en-termes-de-latence" class="heading-permalink"><span class="visually-hidden"> permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>Dans de nombreux cas, les applications Web sont conÃ§ues par dÃ©faut avec des attentes de latence trÃ¨s faibles, en supposant quâ€™une rÃ©ponse Ã  une demande se produise immÃ©diatement ou dÃ¨s que possible. Cette hypothÃ¨se peut limiter vos options de rÃ©duction de la consommation dâ€™Ã©nergie dans votre application. Envisagez dâ€™Ã©valuer la faÃ§on dont votre application est utilisÃ©e et, si vous pouvez assouplir les limites de latence dans certaines zones, ce qui peut augmenter vos options de rÃ©duction de lâ€™empreinte carbone.</p><ul><li>Envisagez de placer certaines opÃ©rations en dehors du cycle de demande / rÃ©ponse. Par exemple, sâ€™il y a une demande dâ€™envoi dâ€™un e-mail qui bloque la rÃ©ponse jusquâ€™Ã  ce que lâ€™e-mail soit envoyÃ©, vous pouvez Ã  la place envoyer lâ€™e-mail de maniÃ¨re asynchrone Ã  lâ€™aide dâ€™un processus de travail et dÃ©bloquer la rÃ©ponse.</li><li>ConsidÃ©rez que lâ€™exÃ©cution des processus de travail a une prioritÃ© infÃ©rieure Ã  celle des processus Web. Cette hiÃ©rarchisation permet aux processus de travail de sâ€™exÃ©cuter uniquement lorsque les ressources de calcul ne sont pas nÃ©cessaires aux processus Web et maintient une utilisation Ã©levÃ©e.</li><li>Envisagez dâ€™exÃ©cuter les processus de travail dans une rÃ©gion Ã  faible intensitÃ© de carbone.</li><li>Envisagez de retarder lâ€™exÃ©cution du processus de travail lorsque lâ€™intensitÃ© en carbone est la plus faible.</li></ul></div></article></main><footer role="contentinfo" class="[ site-foot ] [ pad-top-700 pad-bottom-900 ]"><div class="wrapper"><div class="[ site-foot__inner ] [ md:box-flex space-between align-start ]"><div><article class="[ site-foot__details ] [ sf-flow measure-compact ]"><h2 class="font-base text-600">ğŸŒ± Principles.Green</h2><p>The Principles of Sustainable Green Software Engineering are a core set of competencies needed to define, build and run green software applications.</p></article></div><div><nav class="nav" aria-label="footer navigation"><ul class="[ nav__list ] [ box-flex align-center md:space-before ]"><li class="nav__item"><a href="/">Home</a></li><li class="nav__item"><a href="/pages/related/">Related</a></li><li class="nav__item"><a href="https://go.principles.green/pledge">Endorse the principles</a></li><li class="nav__item"><a href="https://github.com/jawache/principles-green">GitHub</a></li><li class="nav__item"><a href="/">EN</a></li></ul></nav></div></div><p class="[ site-foot__credit ] [ pad-top-900 ]">A personal project by <a href="https://www.linkedin.com/in/jawache/" target="_blank">Asim Hussain</a>, Green Cloud Advocacy Lead at Microsoft. Further training based on the Principles of Green Software Engineering is available on the <a href="https://aka.ms/sse/learn" target="_blank">Microsoft Learn</a> platform.</p><p class="[ site-foot__credit ] [ pad-top-300 ]">Powered by the <a href="https://hylia.website" rel="external">Hylia Eleventy Starter Kit v0.5.1</a>.</p></div></footer></body></html>